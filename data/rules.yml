version: "3.1"

rules:
- rule: Salutation
  steps:
  - intent: salutation
  - action: utter_salutation

- rule: Recherche offres d'emploi
  steps:
  - intent: recherche_offres_emploi
  - action: utter_demande_localisation

- rule: Préciser localisation
  condition:
  - active_loop: emploi_form
  steps:
  - action: emploi_form
  - active_loop: emploi_form

- rule: Fournir type contrat
  condition:
  - active_loop: emploi_form
  steps:
  - action: emploi_form
  - active_loop: emploi_form

- rule: Fournir domaine emploi
  condition:
  - active_loop: emploi_form
  steps:
  - action: emploi_form
  - active_loop: emploi_form

- rule: Fournir fourchette salaire
  condition:
  - active_loop: emploi_form
  steps:
  - action: emploi_form
  - active_loop: emploi_form

- rule: Continuer recherche
  steps:
  - intent: continuer_recherche
  - action: utter_afficher_offres

- rule: Changer critères recherche
  steps:
  - intent: ressaisir_informations
  - action: utter_informations_incorrectes
  - action: emploi_form
  - active_loop: emploi_form

- rule: Terminer recherche
  steps:
  - intent: terminer_recherche
  - action: utter_au_revoir
  - action: emploi_form
  - active_loop: null
